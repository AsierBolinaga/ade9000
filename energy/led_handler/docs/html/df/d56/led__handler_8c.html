<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LED Handler: led_handler.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LED Handler
   </div>
   <div id="projectbrief">Module responsible for managing the system&#39;s status LED through blinking patterns.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('df/d56/led__handler_8c.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">led_handler.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Module responsible for managing the system's status LED through blinking patterns.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d1/d64/led__handler_8h_source.html">led_handler.h</a>&quot;</code><br />
<code>#include &quot;pl_system.h&quot;</code><br />
<code>#include &quot;pl_debug.h&quot;</code><br />
<code>#include &quot;pl_macros.h&quot;</code><br />
<code>#include &quot;pl_hw_config.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for led_handler.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d11/led__handler_8c__incl.png" border="0" usemap="#led__handler_8c" alt=""/></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1dd15ab0af362256b90301dbc92ffecd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d56/led__handler_8c.html#a1dd15ab0af362256b90301dbc92ffecd">LED_HANDLER_TOGGLE_EVENT</a>&#160;&#160;&#160;0x00000001</td></tr>
<tr class="memdesc:a1dd15ab0af362256b90301dbc92ffecd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event flag used to indicate LED toggle.  <a href="../../df/d56/led__handler_8c.html#a1dd15ab0af362256b90301dbc92ffecd">More...</a><br /></td></tr>
<tr class="separator:a1dd15ab0af362256b90301dbc92ffecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1bc3976539f69d1ed627ab5dfdff82da"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d56/led__handler_8c.html#a1bc3976539f69d1ed627ab5dfdff82da">led_handler_toggle</a> (pl_gpio_t *_gpio, <a class="el" href="../../d1/d64/led__handler_8h.html#a4d28d7d0a12bb0c86519b030a8979eb6">led_state_t</a> _led_state)</td></tr>
<tr class="memdesc:a1bc3976539f69d1ed627ab5dfdff82da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Toggles the LED state based on input.  <a href="../../df/d56/led__handler_8c.html#a1bc3976539f69d1ed627ab5dfdff82da">More...</a><br /></td></tr>
<tr class="separator:a1bc3976539f69d1ed627ab5dfdff82da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a291ef6a2d9065a3b6dace22f6d55b4a7"><td class="memItemLeft" align="right" valign="top">static pl_time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d56/led__handler_8c.html#a291ef6a2d9065a3b6dace22f6d55b4a7">led_handler_get_next_toggle_time</a> (uint32_t _toggle_time_ms)</td></tr>
<tr class="memdesc:a291ef6a2d9065a3b6dace22f6d55b4a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a time in milliseconds to a pl_time_t structure.  <a href="../../df/d56/led__handler_8c.html#a291ef6a2d9065a3b6dace22f6d55b4a7">More...</a><br /></td></tr>
<tr class="separator:a291ef6a2d9065a3b6dace22f6d55b4a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72536cc423e7b6bd35f56ac2003ce42f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d56/led__handler_8c.html#a72536cc423e7b6bd35f56ac2003ce42f">led_handler_toggle_event</a> (void *_arg)</td></tr>
<tr class="memdesc:a72536cc423e7b6bd35f56ac2003ce42f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event callback that sets the LED toggle event flag.  <a href="../../df/d56/led__handler_8c.html#a72536cc423e7b6bd35f56ac2003ce42f">More...</a><br /></td></tr>
<tr class="separator:a72536cc423e7b6bd35f56ac2003ce42f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cae3f633aba47822901c21220222011"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d56/led__handler_8c.html#a8cae3f633aba47822901c21220222011">led_handler_initialize</a> (<a class="el" href="../../d1/d64/led__handler_8h.html#aca358936e87a97057d374d26fd22671f">led_thread_t</a> *_led_thread)</td></tr>
<tr class="memdesc:a8cae3f633aba47822901c21220222011"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the LED handler module.  <a href="../../df/d56/led__handler_8c.html#a8cae3f633aba47822901c21220222011">More...</a><br /></td></tr>
<tr class="separator:a8cae3f633aba47822901c21220222011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8c4ddb00d7aef92826ba99d86f92f67"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d56/led__handler_8c.html#ac8c4ddb00d7aef92826ba99d86f92f67">led_handler_task</a> (void *arg)</td></tr>
<tr class="memdesc:ac8c4ddb00d7aef92826ba99d86f92f67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main task that handles the LED blinking pattern.  <a href="../../df/d56/led__handler_8c.html#ac8c4ddb00d7aef92826ba99d86f92f67">More...</a><br /></td></tr>
<tr class="separator:ac8c4ddb00d7aef92826ba99d86f92f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Module responsible for managing the system's status LED through blinking patterns. </p>
<p>This module is responsible for controlling the status LED of the system based on predefined blinking patterns. It provides functionality to toggle the LED state, manage patterns, and initialize hardware components necessary for LED control, including GPIO, timers, and events.</p>
<dl class="section date"><dt>Date</dt><dd>Created on: Sep 12, 2023 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>abolinaga </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1dd15ab0af362256b90301dbc92ffecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dd15ab0af362256b90301dbc92ffecd">&#9670;&nbsp;</a></span>LED_HANDLER_TOGGLE_EVENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LED_HANDLER_TOGGLE_EVENT&#160;&#160;&#160;0x00000001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Event flag used to indicate LED toggle. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a291ef6a2d9065a3b6dace22f6d55b4a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a291ef6a2d9065a3b6dace22f6d55b4a7">&#9670;&nbsp;</a></span>led_handler_get_next_toggle_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static pl_time_t led_handler_get_next_toggle_time </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>_toggle_time_ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts a time in milliseconds to a pl_time_t structure. </p>
<p>This function takes a time duration in milliseconds and converts it into the corresponding <code>pl_time_t</code> structure, which separates seconds and nanoseconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_toggle_time_ms</td><td>Time duration in milliseconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Equivalent <code>pl_time_t</code> structure.</dd></dl>
<p>This function takes a time duration in milliseconds and converts it into a structure that separates the time into seconds and nanoseconds, suitable for the timer functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_toggle_time_ms</td><td>Time duration in milliseconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code>pl_time_t</code> structure with equivalent time. </dd></dl>

</div>
</div>
<a id="a8cae3f633aba47822901c21220222011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cae3f633aba47822901c21220222011">&#9670;&nbsp;</a></span>led_handler_initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool led_handler_initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d64/led__handler_8h.html#aca358936e87a97057d374d26fd22671f">led_thread_t</a> *&#160;</td>
          <td class="paramname"><em>_led_thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the LED handler module. </p>
<p>This function initializes the necessary components for controlling the LED, including GPIO, event flags, and timers. If the initialization is successful, the LED handler is ready to use for toggling the LED based on patterns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_led_thread</td><td>Pointer to the LED thread structure containing configuration and data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if initialization was successful, false otherwise. </dd></dl>

</div>
</div>
<a id="ac8c4ddb00d7aef92826ba99d86f92f67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8c4ddb00d7aef92826ba99d86f92f67">&#9670;&nbsp;</a></span>led_handler_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void led_handler_task </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main task that handles the LED blinking pattern. </p>
<p>LED handler task.</p>
<p>This task continuously manages the LED state based on the system's current state pattern. It listens for events and toggles the LED according to the pattern, updating the state at the specified time intervals.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>Pointer to a uint8_t indicating the current system state. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1bc3976539f69d1ed627ab5dfdff82da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bc3976539f69d1ed627ab5dfdff82da">&#9670;&nbsp;</a></span>led_handler_toggle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void led_handler_toggle </td>
          <td>(</td>
          <td class="paramtype">pl_gpio_t *&#160;</td>
          <td class="paramname"><em>_gpio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d64/led__handler_8h.html#a4d28d7d0a12bb0c86519b030a8979eb6">led_state_t</a>&#160;</td>
          <td class="paramname"><em>_led_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Toggles the LED state based on input. </p>
<p>Updates the LED GPIO based on the given state.</p>
<p>This function sets the LED to the desired state (ON or OFF) by controlling the GPIO.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_gpio</td><td>Pointer to the GPIO object for the LED. </td></tr>
    <tr><td class="paramname">_led_state</td><td>Desired state of the LED (LED_ON or LED_OFF).</td></tr>
  </table>
  </dd>
</dl>
<p>This function updates the GPIO state of the LED according to the desired LED state (ON or OFF).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_gpio</td><td>Pointer to the GPIO object for the LED. </td></tr>
    <tr><td class="paramname">_led_state</td><td>Desired state of the LED (ON or OFF). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a72536cc423e7b6bd35f56ac2003ce42f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72536cc423e7b6bd35f56ac2003ce42f">&#9670;&nbsp;</a></span>led_handler_toggle_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void led_handler_toggle_event </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>_arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Event callback that sets the LED toggle event flag. </p>
<p>This function is used as a callback to set the LED toggle event, which is triggered when the LED needs to change its state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>Unused argument. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../df/d56/led__handler_8c.html">led_handler.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
